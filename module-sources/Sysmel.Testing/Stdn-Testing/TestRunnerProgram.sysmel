namespace Stdn definition: {
namespace Testing definition: {

macro method generateTestSuiteProgramMain: testSuiteProgramName := ``(
Stdn MainEntryPoint: {:args :: Int32 |
    let succeeded mutable := Stdn Testing TestRunner defaultInstance runAllTests.
    compileTime if: Compiler hasGarbageCollectedRuntime then: {
        let gcTestRunner := Smalltalk TestRunner new.
        let gcTestResult := gcTestRunner runAllTests.
        succeeded := succeeded && (gcTestResult castTo: Boolean8).
        gcTestRunner printReport
    }.

    Stdn Testing TestRunner defaultInstance printReport.

    return: (succeeded ifTrue: 0 ifFalse: 0)
}
)

} ## End of namespace Testing
} ## End of namespace Stdn
