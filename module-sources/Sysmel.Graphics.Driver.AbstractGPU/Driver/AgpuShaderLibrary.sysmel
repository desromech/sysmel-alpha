namespace Stdn definition: {
namespace Graphics definition: {
namespace DriverAGPU definition: {

useNamespace: Stdn Graphics Core.

#**
 * I am a agpu based shader signature builder.
 *#
sealed class AgpuShaderLibraryHandle superclass: ShaderLibraryHandle; definition: {
    public field handle type: AGPU ShaderRef.

    override method createHandleForEntryPoint: (entryPointInfo: GPU ShaderEntryPointInfo const ref) ::=> ShaderStageHandlePtr := {

        let result := AgpuShaderStageHandle sharedNew.
        result _
            libraryHandle: handle;
            entryPointName: entryPointInfo entryPointSymbol;
            stageType: (entryPointInfo stageType castTo: AGPU ShaderType).

        result upCastFor: ShaderStageHandle
    }.

}.

compileTime constant AgpuShaderLibraryHandlePtr := AgpuShaderLibraryHandle sharedPointer.

}. ## End of namespace Core
}. ## End of namespace Graphics
}. ## End of namespace Stdn
