compileTime constant OnlyRuntimeCoreTests := false.

Compiler
	importModuleNamed: #"Sysmel.Core.Tests".

compileTime if: Compiler hasGarbageCollectedRuntime then: {
	Compiler importIndirectModulesNamed: #(
		#"Smalltalk.Runtime.Core.Tests"
	).
}.

compileTime if: OnlyRuntimeCoreTests not then: {
	Compiler
		importIndirectModulesNamed: #(
			#"Sysmel.Serialization.Core.Tests"
			#"Sysmel.Serialization.JSON.Tests"
			#"Sysmel.Serialization.MessagePack.Tests"

			#"Sysmel.Math.Core.Tests"
			#"Norphic.Core.Tests"
			#"Sysmel.Graphics.Core.Raster.Tests"
		).

	compileTime if: Compiler compilationTarget isDesktopPC then: {
		Compiler
			importIndirectModulesNamed: #(
				#"Sysmel.Networking.Core.Tests"
				#"Sysmel.Compiler.SysmelLanguage.Tests"
			).
	}.

	compileTime if: Compiler hasGarbageCollectedRuntime then: {
	    Compiler importIndirectModulesNamed: #(
			#"Smalltalk.GUI.Core.Tests"
			#"Smalltalk.Interpreter.Tests"
		).
	}.
}.

Stdn Testing generateTestSuiteProgramMain: "RuntimeLibrariesTests".
